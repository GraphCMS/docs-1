import Card from '~/components/card'
import { Code, InlineCode } from '~/components/text/code'
import { P } from '~/components/text'
import Link from '~/components/text/link'
import Note from '~/components/text/note'
import ProductName from '~/components/name/product-name'
import ProductShortName from '~/components/name/product-short-name'
import EmailLink from '~/components/text/email-link'

export const meta = {
  editUrl:
    'pages/docs/configuration/configuration-mdx/configuration-deprecated/configuration-deprecated.mdx',
  lastEdited: '2019-11-05T19:44:00.000Z'
}

# Project (Deprecated)

## name

<Note type="alert">
  The <InlineCode>name</InlineCode> property has been deprecated in favor of{' '}
  <Link href="/docs/now-cli#commands/overview/project-linking">
    Project Linking
  </Link>
  , which allows you to link a <ProductName /> Project to your local codebase when
  you run <InlineCode>now</InlineCode>.
</Note>

**Type**: `String`.

**Valid values**: string name for the deployment.

**Limits**:

- A maximum length of 52 characters
- Only lower case alphanumeric characters or hyphens are allowed
- Cannot begin or end with a hyphen, or contain multiple consecutive hyphens

The prefix for all new deployment instances. The CLI usually generates this field automatically based on the name of the directory. But if you'd like to define it explicitly, this is the way to go.

The defined name is also used to organize the deployment into [a project](/docs/v2/platform/projects).

<Code lang="json">{`{
  "name": "example-app"
}`}</Code>

## version

<Note type="alert">
  The <InlineCode>version</InlineCode> property is no longer needed, as Vercel
  CLI automatically detects the platform version. If you need help, please reach
  out to the support at <EmailLink type="support" />.
</Note>

**Type**: `Number`.

**Valid values**: `1`, `2`.

Specifies the [<ProductName /> Platform version](/docs/v2/platform/overview#versioning) the deployment should use and is known to work with. We strongly recommend setting a `version` when working on production systems or using source control (e.g. [Git](https://git-scm.com)).

<Code lang="json">{`{
  "version": 2
}`}</Code>

## alias

<Note type="alert">
  We encourage you to use the{' '}
  <Link href="/docs/v2/custom-domains">Custom Domains</Link> project settings
  instead.
</Note>

**Type**: `Array` or `String`.

**Valid values**: [domain names](/docs/v2/custom-domains) (optionally including subdomains) added to the account, or a string for a suffixed URL using `.now.sh` or a Custom Deployment Suffix ([available on the Enterprise plan](/pricing)).

**Limit**: A maximum of 64 aliases in the array.

The alias or aliases are applied automatically using [<ProductName /> for GitHub](/docs/v2/git-integrations/vercel-for-github), [<ProductName /> for GitLab](/docs/v2/git-integrations/vercel-for-gitlab), or [<ProductName /> for Bitbucket](/docs/v2/git-integrations/vercel-for-bitbucket) when merging or pushing to the default branch.

You can deploy to the defined aliases using [<ProductShortName /> CLI](/download) by setting the [production deployment environment target](/docs/v2/custom-domains#deploying-with-your-domain).

<Code lang="json">{`{
  "alias": ["my-domain.com", "my-alias"]
}`}</Code>

<Note>
  Aliases from a <InlineCode>now.json</InlineCode> file will be <b>ignored</b>{' '}
  when there are domains that have been{' '}
  <Link href="/docs/v2/custom-domains/#deploying-with-your-domain">
    configured for the project through the dashboard
  </Link>
  .
</Note>

## scope

<Note type="alert">
  The <InlineCode>scope</InlineCode> property has been deprecated in favor of{' '}
  <Link href="/docs/now-cli#commands/overview/project-linking">
    Project Linking
  </Link>
  , which allows you to link a <ProductName /> Project to your local codebase when
  you run <InlineCode>now</InlineCode>.
</Note>

**Type**: `String`.

**Valid values**: For teams, either an ID or slug. For users, either a email address, username, or ID.

This property determines the scope ([user or team](/docs/v2/platform/users-and-teams/)) under which the project will be deployed by [<ProductShortName /> CLI](/download).

Furthermore, it also affects any other actions that the user takes within the directory that contains this configuration (e.g. listing [Environment Variables](/docs/v2/build-step#environment-variables) using `now secrets ls`).

<Code lang="json">{`{
  "scope": "my-team"
}`}</Code>

<Note>
  Deployments made via{' '}
  <Link href="/docs/v2/git-integrations">Git Integration</Link> will{' '}
  <b>ignore</b> the <InlineCode>scope</InlineCode> property because the
  repository is already connected to a{' '}
  <Link href="/docs/v2/platform/projects">project</Link>.
</Note>

## builds

<Note type="alert">
  The <InlineCode>builds</InlineCode> property has been deprecated in favor of{' '}
  <Link href="/docs/configuration#project/functions">functions</Link>. In the
  majority of cases, you are no longer required to specify a{' '}
  <InlineCode>build</InlineCode>, instead relying on the{' '}
  <Link href="/docs/v2/build-step/">build step</Link>.
</Note>

**Type:** `Array` of build `Object`.

**Valid values:** a list of build descriptions whose `src` references valid source files.

**Build object definition:**

- `src` (`String`): A glob expression or pathname. If more than one file is resolved, one build will be created per matched file. It can include `*` and `**`.
- `use` (`String`): An npm module to be installed by the [build process](/docs/v2/advanced/builders). It can include a semver compatible version (e.g.: `@org/proj@1`).
- `config` (`Object`): Optionally, an object including arbitrary metadata to be passed to the Builder.

<P>
  The following will include all HTML files as-is (to be served statically), and
  build all Python files and JS files into{' '}
  <Link href="/docs/v2/serverless-functions/introduction/">
    Serverless Functions
  </Link>
  .
</P>

<Code lang="json">{`{
  "builds": [
    { "src": "*.html", "use": "@now/static" },
    { "src": "*.py", "use": "@now/python" },
    { "src": "*.js", "use": "@now/node" }
  ]
}`}</Code>

<Note>
  When at least one <InlineCode>builds</InlineCode> item is specified, only the
  outputs of the build processes will be included in the resulting deployment as
  a security precaution. This is why we need to white-list static files
  explicitly with
  <InlineCode>@now/static</InlineCode>.
</Note>

## public

<Note type="alert">
  We encourage you to use the{' '}
  <Link href="/docs/v2/platform/projects#logs-and-source-access">
    Logs and Source Access
  </Link>{' '}
  project settings instead.
</Note>

**Type**: `Boolean`.

**Default Value**: `false`.

When set to `true`, both the [source view](/docs/v2/platform/deployments/#source-view) and [logs view](/docs/v2/platform/deployments/#logs-view) will be publicly accessible.

<Code lang="json">{`{
  "public": true
}`}</Code>

## cleanUrls

<Note type="alert">
  We encourage you to use the <Link href="#project/routes">routes</Link>{' '}
  property instead.
</Note>

**Type**: `Boolean`.

**Default Value**: `false`.

When set to `true`, all HTML files and Serverless Functions will have their extension removed. When visiting a path that ends with the extension, a 308 response will redirect the client to the extensionless path.

For example, a static file named `about.html` will be served when visiting the `/about` path. Visiting `/about.html` will redirect to `/about`.

Similarly, a Serverless Function named `api/user.go` will be served when visiting `/api/user`. Visiting `/api/user.go` will redirect to `/api/user`.

<Code lang="json">{`{
  "cleanUrls": true
}`}</Code>

## trailingSlash

<Note type="alert">
  We encourage you to use the <Link href="#project/routes">routes</Link>{' '}
  property instead.
</Note>

**Type**: `Boolean`.

**Default Value**: `undefined`.

### false

When `trailingSlash: false`, visiting a path that ends with a forward slash will respond with a 308 status code and redirect to the path without the trailing slash.

For example, the `/about/` path will redirect to `/about`.

<Code lang="json">{`{
  "trailingSlash": false
}`}</Code>

### true

When `trailingSlash: true`, visiting a path that does not end with a forward slash will respond with a 308 status code and redirect to the path with a trailing slash.

For example, the `/about` path will redirect to `/about/`.

However, paths with a file extension will not redirect to a trailing slash.

For example, the `/about/styles.css` path will not redirect, but the `/about/styles` path will redirect to `/about/styles/`.

<Code lang="json">{`{
  "trailingSlash": true
}`}</Code>

### undefined

When `trailingSlash: undefined`, visiting a path with or without a trailing slash will not redirect.

For example, both `/about` and `/about/` will serve the same content without redirecting.

This is not recommended because it could lead to search engines indexing two different pages with duplicate content.

## redirects

<Note type="alert">
  We encourage you to use the <Link href="#project/routes">routes</Link>{' '}
  property instead.
</Note>

**Type:** `Array` of redirect `Object`.

**Valid values:** a list of redirect definitions.

**Limits**:

- A maximum of 1,024 redirects in the array.
- A maximum of string length of 4,096 for the `source` and `destination` values.

**Redirect object definition:**

- `source`: A pattern that matches each incoming pathname (excluding querystring).
- `destination`: A location destination defined as an absolute pathname or external URL.
- `statusCode`: An optional HTTP status code in the [301-308](https://developer.mozilla.org/en-US/docs/Web/HTTP/Redirections) range (default 308).

<P>
  This example configures custom redirects that map to static files,{' '}
  <Link href="/docs/v2/serverless-functions/introduction">
    Serverless Functions
  </Link>,{' '}
  and external URLs.
</P>
<Code lang="json">{`{
  "redirects": [
    { "source": "/me", "destination": "/profile.html" },
    { "source": "/user", "destination": "/api/user", "statusCode": 307 },
    { "source": "/view-source", "destination": "https://github.com/zeit/now" }
  ]
}`}</Code>

## rewrites

<Note type="alert">
  We encourage you to use the <Link href="#project/routes">routes</Link>{' '}
  property instead.
</Note>

**Type:** `Array` of rewrite `Object`.

**Valid values:** a list of rewrite definitions.

**Limits**:

- A maximum of 1,024 rewrites in the array.
- A maximum of string length of 4,096 for the `source` and `destination` values.

**Rewrite object definition:**

- `source`: A pattern that matches each incoming pathname (excluding querystring).
- `destination`: An absolute pathname to an existing resource or an external URL.

<P>
  This example configures custom rewrites that map to static files,{' '}
  <Link href="/docs/v2/serverless-functions/introduction">
    Serverless Functions
  </Link>,{' '}
  automatic query string matching, and a wildcard proxy.
</P>
<Code lang="json">{`{
  "rewrites": [
    { "source": "/about", "destination": "/about-our-company.html" },
    { "source": "/resize/:width/:height", "destination": "/api/sharp" },
    { "source": "/user/:id", "destination": "/api/user" },
    { "source": "/proxy/(.*)", "destination": "https://example.com/$1" }
  ]
}`}</Code>

## headers

<Note type="alert">
  We encourage you to use the <Link href="#project/routes">routes</Link>{' '}
  property instead.
</Note>

**Type:** `Array` of header `Object`.

**Valid values:** a list of header definitions.

**Limits**:

- A maximum of 1,024 headers in the array.
- A maximum of string length of 4,096 for the `source`, `key`, and `value` values.

**Header object definition:**

- `source`: A pattern that matches each incoming pathname (excluding querystring).
- `headers`: An array of key/value pairs representing each response header.

<P>
  This example configures custom response headers for static files,{' '}
  <Link href="/docs/v2/serverless-functions/introduction">
    Serverless Functions
  </Link>,
  and a wildcard that matches all routes.
</P>
<Code lang="json">{`{
  "headers": [
    {
      "source": "/service-worker.js",
      "headers" : [
        {
          "key" : "Cache-Control",
          "value" : "public, max-age=0, must-revalidate"
        }
      ]
    },
    {
      "source": "/api/feed",
      "headers" : [
        {
          "key" : "Content-Type",
          "value" : "application/rss+xml"
        },
        {
          "key" : "Cache-Control",
          "value" : "public, max-age=3600"
        }
      ]
    },
    {
      "source": "/(.*)",
      "headers" : [
        {
          "key" : "X-Content-Type-Options",
          "value" : "nosniff"
        },
        {
          "key" : "X-Frame-Options",
          "value" : "DENY"
        },
        {
          "key" : "X-XSS-Protection",
          "value" : "1; mode=block"
        }
      ]
    }
  ]
}`}</Code>
